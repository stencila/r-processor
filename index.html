<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R interpreter for Stencila executable documents â€¢ rasta</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="R interpreter for Stencila executable documents">
<meta property="og:description" content="
    Implements the compile and execute methods of the Stencila Executor interface allowing it
    to be used to on CodeChunks, and other nodes in executable documents, that use R.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rasta</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/stencila/rasta">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="rasta" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rasta" class="anchor"></a>ðŸŒ´ Rasta</h1></div>
<div id="r-interpreter-for-stencila-executable-documents" class="section level4">
<h4 class="hasAnchor">
<a href="#r-interpreter-for-stencila-executable-documents" class="anchor"></a>R interpreter for Stencila executable documents</h4>

</div>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>Rasta is available as a R package. It isnâ€™t on CRAN yet, but you can install it from this repository using the <a href="https://github.com/r-lib/remotes"><code>remotes</code></a> package,</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"stencila/rasta"</span><span class="op">)</span></pre></div>
</div>
<div id="use" class="section level2">
<h2 class="hasAnchor">
<a href="#use" class="anchor"></a>Use</h2>
<p>Register Rasta so that it can be discovered by other executors on your machine,</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu">rasta</span><span class="fu">::</span><span class="fu"><a href="reference/register.html">register</a></span><span class="op">(</span><span class="op">)</span></pre></div>
<p>If you have <a href="https://github.com/stencila/executa"><code>executa</code></a> installed globally, you can then run Rasta using the <code>execute</code> command and specifying <code>r</code> as the starting language,</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="ex">executa</span> execute --repl --lang r</a></code></pre></div>
</div>
<div id="develop" class="section level2">
<h2 class="hasAnchor">
<a href="#develop" class="anchor"></a>Develop</h2>
<p>Get started by cloning this repository,</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="fu">git</span> clone git@github.com:stencila/rasta</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="bu">cd</span> rasta</a></code></pre></div>
<p>Then install the necessary development dependencies,</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="fu">make</span> setup</a></code></pre></div>
<p>Most development tasks can be run from R, using <code>make</code> shortcuts, or RStudio keyboard shortcuts.</p>
<table class="table">
<thead><tr class="header">
<th>Task</th>
<th><code>make</code></th>
<th>R/RStudio</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Install development dependencies</td>
<td><code>make setup</code></td>
<td></td>
</tr>
<tr class="even">
<td>Run linting</td>
<td><code>make lint</code></td>
<td><code><a href="https://rdrr.io/pkg/lintr/man/lint_package.html">lintr::lint_package()</a></code></td>
</tr>
<tr class="odd">
<td>Run R tests</td>
<td><code>make test-r</code></td>
<td>
<code><a href="https://devtools.r-lib.org//reference/test.html">devtools::test()</a></code> or <code>Ctrl+Shift+T</code>
</td>
</tr>
<tr class="even">
<td>Run C++ tests</td>
<td><code>make test-cpp</code></td>
<td></td>
</tr>
<tr class="odd">
<td>Run all tests</td>
<td><code>make test</code></td>
</tr>
<tr class="even">
<td>Run tests with coverage</td>
<td><code>make cover</code></td>
<td><code><a href="http://covr.r-lib.org/reference/package_coverage.html">covr::package_coverage()</a></code></td>
</tr>
<tr class="odd">
<td>Run benchmarks</td>
<td><code>make bench</code></td>
<td></td>
</tr>
<tr class="even">
<td>Build documentation</td>
<td><code>make docs</code></td>
<td></td>
</tr>
<tr class="odd">
<td>Check the package</td>
<td><code>make check</code></td>
<td><code>Ctrl+Shift+E</code></td>
</tr>
<tr class="even">
<td>Build</td>
<td><code>make build</code></td>
<td><code>Ctrl+Shift+B</code></td>
</tr>
<tr class="odd">
<td>Clean</td>
<td><code>make clean</code></td>
<td></td>
</tr>
</tbody>
</table>
<div id="testing" class="section level3">
<h3 class="hasAnchor">
<a href="#testing" class="anchor"></a>Testing</h3>
<p>Unit tests live in the <code>tests</code> folder. Most of the tests are written using the <code>testthat</code> package. When writing regression tests for a specific issues, please name the test file accordingly e.g. <code>tests/testthat/test-issue-1.R</code>. There is also a <code>tests/cpp</code> folder for C++ tests and a <code>tests/bench</code> folder for benchmarking.</p>
</div>
<div id="documentation" class="section level3">
<h3 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h3>
<p>Documentation is written using <code>roxygen2</code> and the documentation site is generated by <code>pkgdown</code> into the <a href="docs"><code>docs</code></a> folder and published on Github pages.</p>
</div>
<div id="continuous-integration" class="section level3">
<h3 class="hasAnchor">
<a href="#continuous-integration" class="anchor"></a>Continuous integration</h3>
<p>Tests are run on <a href="https://travis-ci.org/stencila/rasta">Travis</a> and code coverage tracked at <a href="https://codecov.io/gh/stencila/rasta">Codecov</a>.</p>
</div>
</div>
<div id="notes" class="section level2">
<h2 class="hasAnchor">
<a href="#notes" class="anchor"></a>Notes</h2>
<ul>
<li><p>This package has two functions, <code>stream_read_message</code> and <code>stream_write_message</code>, for reading and writing length prefixed messages from/to streams. These functions are implemented in both R and C++ and there is benchmarking code to compare their performance (run <code>make bench</code> and look for the outputs in <code>tests/bench</code>). The C++ implementations are 2-3 times faster. However, the times involved are small (&lt;100Âµs for 10k messages) and having C++ code does add complexity and a dependency (<code>Rcpp</code>). Given that, we may remove the C++ implementations in the future.</p></li>
<li><p>This package provides a <code>StdioServer</code> class which implements Stencilaâ€™s execution API over standard input / output streams. It is analogous to the <a href="https://github.com/stencila/executa/blob/v1.14.0/src/stdio/StdioServer.ts"><code>StdioServer</code></a> class implemented in Typescript in the <code>stencila/executa</code> package. A previous version of this repository implemented a <a href="https://github.com/stencila/rasta/blob/v0.7.1/R/pipe-server.R"><code>PipeServer</code></a> class which used named pipes as the transport. However, this was not used in production, and so in the interest of keeping the code base as simple as possible, was removed. This note is intended for developers who might find a need to use the API over named pipes in the future.</p></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/stencila/rasta/">https://â€‹github.com/â€‹stencila/â€‹rasta/â€‹</a>
</li>
<li>Report a bug at <br><a href="https://github.com/stencila/rasta/issues">https://â€‹github.com/â€‹stencila/â€‹rasta/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Nokome Bentley <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/stencila/rasta"><img src="https://travis-ci.org/stencila/rasta.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://codecov.io/gh/stencila/rasta"><img src="https://codecov.io/gh/stencila/rasta/branch/master/graph/badge.svg" alt="Code coverage"></a></li>
<li><a href="https://cran.r-project.org/web/packages/rasta/"><img src="https://www.r-pkg.org/badges/version-last-release/rasta" alt="CRAN"></a></li>
<li><a href="https://stencila.github.io/rasta/"><img src="https://img.shields.io/badge/docs-latest-blue.svg" alt="Docs"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Nokome Bentley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
